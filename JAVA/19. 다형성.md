# 다형성

## 목차

[1. 다형성](#1-다형성)
- [1.1. 컴파일 시간 다형성](#11-컴파일-시간-다형성)
- [1.2. 런타임 다형성](#12-런타임-다형성)

[2. 참조 타입 변수의 타입 변환](#2-참조-타입-변수의-타입-변환)
- [2.1. 업캐스팅(Upcasting)](#21-업캐스팅upcasting)
- [2.2. 다운캐스팅(Downcasting)](#22-다운캐스팅downcasting)

## 1. 다형성

다형성은 객체 지향 프로그래밍의 주요 특징 중 하나로, 같은 타입의 변수에 여러 가지 형태의 객체를 대입하여 다양한 동작을 수행할 수 있게 하는 기능입니다.

다형성은 주로 상속과 인터페이스를 통해 구현되며, 코드의 유연성과 확장성을 높여줍니다.

다형성은 크게 컴파일 시간 다형성과 런타임 다형성 두 가지 형태로 나뉩니다.

### 1.1. 컴파일 시간 다형성

- 오버로딩: 같은 이름의 메서드를 여러 개 정의하되, 매개변수의 타입이나 개수를 다르게 하는 것을 의미하며, 컴파일러가 메서드 호출 시점에 적절한 메서드를 선택합니다.

### 1.2. 런타임 다형성

- 오버라이딩: 상속 관계에 있는 클래스에서 부모 클래스의 메서드를 자식 클래스가 재정의하는 것을 의미하며, 실제 메서드 호출은 객체의 타입에 따라 결정됩니다.

- 다형성 변수: 부모 클래스 타입의 변수로 자식 클래스 객체를 참조할 수 있으며, 실제 호출되는 메서드는 참조하는 객체의 타입에 따라 결정됩니다.

## 2. 참조 타입 변수의 타입 변환

참조 타입 변수의 타입 변환은 주로 업캐스팅(자동 타입 변환)과 다운캐스팅(강제 타입 변환)으로 나눌 수 있습니다.

타입 변환인 업캐스팅과 다운캐스팅은 다형성 자체의 개념과는 구분되지만, 다형성의 속성에 깊게 연관되어 있습니다.

다형성은 같은 인터페이스나 부모 클래스 타입을 통해 여러 가지 형태의 객체를 처리할 수 있는 능력으로, 업캐스팅과 다운캐스팅은 이러한 다형성을 구현하기 위한 도구로 볼 수 있습니다.

### 2.1. 업캐스팅(Upcasting)

업캐스팅은 자식 클래스의 객체를 부모 클래스 타입의 참조 변수로 할당할 때 발생합니다.<br>
이는 명시적인 타입 변환이 필요 없으며, Java 컴파일러가 자동으로 수행합니다.

```
class Animal {
  // Animal 클래스 내용
}

class Cat extends Animal {
  // Cat 클래스 내용
}

Animal myCat = new Cat(); // 업캐스팅
```

### 2.2. 다운캐스팅(Downcasting)

다운캐스팅은 부모 클래스 타입의 참조 변수를 자식 클래스 타입으로 변환할 때 사용됩니다.

다운캐스팅은 명시적인 캐스팅이 필요하며, 잘못된 다운캐스팅은 ClassCastException을 발생시킬 수 있습니다.<br>
따라서 강제 타입 변환을 하기 전에 instanceof 연산자를 사용하여 타입을 확인하는 것이 좋습니다.

```
class Animal {
  // Animal 클래스 내용
}

class Cat extends Animal {
  // Cat 클래스 내용
}

Animal myAnimal = new Cat(); // 업캐스팅

if (myAnimal instanceof Cat) {
  Cat myCat = (Cat) myAnimal; // 다운캐스팅 
}
```

#### 2.2.1. instanceof

instanceof 연산자는 Java에서 객체가 특정 클래스나 인터페이스의 인스턴스인지 확인하는 데 사용되는 키워드입니다.<br>
주로 안전한 타입 변환(다운캐스팅)을 위해 사용되며, 클래스 계층 구조에서 객체의 실제 타입을 확인할 수 있게 해줍니다.

```
if (객체 instanceof 특정_클래스_또는_인터페이스) {
  // 객체가 특정 클래스 또는 인터페이스의 인스턴스인 경우 실행될 코드
}
```